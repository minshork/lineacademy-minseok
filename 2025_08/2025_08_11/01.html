<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0; padding: 0; text-decoration: none; list-style: none;
        }

        body{
            width: 100vw;
            overflow-x: hidden;
            /* padding-top: 50px; */
            /* cursor: none; */
        }
        nav{
            width: 100%;
            height: 50px;
            background-color: skyblue;
            position:sticky; 
            left:0; top:0;
            z-index: 1000;
        }

        .cursor{
            width: 15px;
            height: 15px;
            background-color: red;
            border-radius: 50%;
            position: fixed;
            top:30px; left:30px;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: all 0.8s linear;
            pointer-events: none;
            display: none;

        }
        section{  /* 공통적인 모든 섹션 정의 */
            width: 100%;
            height: calc(100vh - 50px);
            /* background-color: pink; */
        }

        /* 여기서 부터 섹션 1 구간 */
        section .outBox{ /* 섹션1의 섹션역활을 하는 박스 */
            width: 100%;
            height: 100%;  
            display: flex;
            justify-content: center;
            align-items: center; 
            transform: scaleX(0); 
            transition: all 0.5s linear;        
        }

        section .outBox.on{
            transform: scaleX(1);
        }
        section .outBox .imgBox{
            width: 85%;
            height: 95%;
            /* background-color: blue; */
            background-image: url(./1.img/cl.jpg);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        section .outBox .imgBox h1{
            color: white;
            font-size: 60px;
        }

        section .outBox .imgBox h3{
            color: white;
            font-size: 30px;
        }

        /* 여기서 부터 두번째 섹션 */
        section .outBox2{ /* 섹션2의 섹션역활을 하는 박스 */
            width: 100%;
            height: 100%;
            /* background-color: blueviolet; */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        section .outBox2 .leftBox{ /* 왼쪽 글자가 들어가는 구간 */
            width: 35%;
            height: 80%;
            /* background-color: gold; */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 10px;
            text-align: center;
        }

        .leftBox h4, .leftBox div, .leftBox h3{ 
            /* 왼쪽박스의 모든 글자들 설정 위치는 아래, 투명도는 거의 안보이게 */
            transform: translateY(30px);
            opacity: 0.1;
            transition: all 0.9s linear;
        }

        .leftBox h4.on21, .leftBox div.on21, .leftBox h3.on21{
            transform: translateY(0);
            opacity: 1;
        }
        section .outBox2 .rightBox{
            width: 40%;
            height: 80%;
            background-color: blue;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            overflow: hidden;
        }
        .rightImgBox{
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .rightBox .rightImg{
            width: 100%;
            height: 100%;
            /* background-color: aqua; */
            background-image: url(./1.img/rabbit.jpg);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;

            position: absolute;
            left:0; top:0;
            transform: scale(1.1);
            z-index: 1;
            transition: all 0.3s linear;
        }

        .rightBox .rightImg.on2{
            transform: scale(1);
        }
        .rightBox .rightText{
            width: 100%;
            height: 13%;
            background-color: rgba(255,255,255,0.7);
            position: absolute;
            left: 0;
            bottom: 0;
            z-index: 10;
            display: flex;
            align-items: center;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <nav>여기는 네비</nav>
    <div class="cursor"></div>
    <section id="sec1">
        <div class="outBox">
            <div class="imgBox">
                <h1>have a nice day</h1>
                <h3>oh! happy day</h3>
            </div>
        </div>
    </section>
    <section id="sec2">
        <div class="outBox2">
            <div class="leftBox">
                <h4>happy day</h4>
                <div>
                    <h1>today is a happy day & nice day</h1>
                    <h1>have a nece day</h1>
                </div>
                <h3>행복하세요!!</h3>
            </div>
            <div class="rightBox">
                <div class="rightImgBox">
                    <div class="rightImg"></div>
                </div>
                <div class="rightText">여기는 오른쪽 하단</div>
            </div>
        </div>
    </section>
    <section id="sec3" style="background-color: blue;">
    </section>        
    <script>
        let sec1 = document.getElementById("sec1")
        let sec2 = document.getElementById("sec2")
        let sec3 = document.getElementById("sec3")
        let outBox = document.querySelector(".outBox")
        let rightImg = document.querySelector(".rightImg")
        let texts = document.querySelectorAll(".leftBox h4, .leftBox div, .leftBox h3")
        let cursor = document.querySelector(".cursor")

        function startScroll(){
            let sy = window.scrollY  // 스크롤 값
            let navH = 50 // 네비 높이
            
            let s1 = sec1.offsetTop // 섹션1의 기준(탑)값
            let s2 = sec2.offsetTop // 섹션2의 기준(탑)값
            let s3 = sec3.offsetTop // 섹션3의 기준(탑)값

            let s3H = sec3.offsetHeight; // 섹션3의 하이값

            // 섹션 1 구간
            if( sy >= s1 - navH &&  sy <= s2 - navH){
                outBox.classList.add("on")
            }

            // 섹션 2 구간
            if( sy >= (s2-300)-navH &&  sy <= (s3-300) - navH ){

                texts.forEach( (text, idx) =>{
                    text.style.transitionDelay = ( idx * 0.3) + "s"
                    text.classList.add("on21")
                }) // 글자들 시간0.3초 간격으로 보이기

                rightImg.classList.add("on2") // 오른쪽 이미지 축소하기
                cursor.style.display = "block" // 커서 보이기

            }else{
                cursor.style.display = "none" // 커서 안보이기
                texts.forEach( (text, idx) =>{
                    text.style.transitionDelay = "0s"
                    text.classList.remove("on21")
                }) // 글자들 한꺼번에 안보이기

                rightImg.classList.remove("on2") // 오른쪽 이미지 원래상태로 돌리기
                
            }

           // 섹션 마지막 구간 
            if (sy >= s3 - navH && sy < s3 + s3H - navH) { // 범위 내에서만 기술!
                // 표현하고 싶은 구문 기술
            } else {
                // 표현하고 싶은 구문 기술
            }
        }
        

        startScroll()
        window.addEventListener("scroll", startScroll)

        document.addEventListener("mousemove", (e) =>{ // 마우스가 움직이면 e가 값을 가짐
            cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`
            // 마우스가 움직이는 x좌표, y좌표 e.clientX, e.clientY
        })
    </script>
    
</body>
</html>